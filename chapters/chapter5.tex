\chapter{Conclusion}
\label{chapter5}
We have presented several gimbal control algorithms: angle commanding gimbal control, angular velocity commanding gimbal control, and adaptive depth gimbal control. Although they have their own strengths and weaknesses, the adaptive depth gimbal control is the most useful when a depth sensor is not available and the camera is on a moving platform. Thus, the algorithm is more suitable than the other algorithms on small UAV tracking application. Although a custom pan-tilt gimbal had been built, the size of the gimbal system including gimbal controller exceeded the payload capability of commonly available multirotors. For this reason, if the adaptive depth gimbal controller is to be tested on UAV, a smaller size gimbal needs to be built or search for the commercially available UAV option that gives the ability to command the angular rate of the gimbal (Not available as of December 2017). 

In addition, this thesis shows the first attempt to use the visual multiple target tracking using R-RANSAC tracker to close the UAV control loop in real-time. Although the theoretical contribution is not huge, the value sits in regard of the system integration and hardware result. In this experiment, one of the shortcomings is that R-RANSAC tracker does not have good tracking continuity due to the lack of computation resource (No GPU). Often, R-RANSAC tracker assigns different ID number to the same target whenever the program is lagged by computer vision processing. This could be overcome by introducing an embedded computer with GPU such as NVIDIA Jetson TK1, TX1, or TX2. Another shortcoming is that the UAV control algorithm used in the hardware demonstration is only to follow a single target. With R-RANSAC tracker, multiple target tracking in perception domain is feasible. However, without new UAV control algorithm, real multiple target tracking system cannot be realizable. Thus, if one desires to pursue further research on \lq single UAV to track multiple targets\rq\: before moving forward to \lq multiple UAVs to track multiple targets\rq, the reference to \cite{Gans2011} may be a good starting point.

Finally, a novel UAV control algorithm for target tracking, the unit vector UAV visual servoing, has been developed. This algorithm employs an adaptive control technique to derive the unit vector framework in target tracking and employs the backstepping control technique to incorporate with common multirotor dynamics. The purpose of the algorithm is to eliminate the necessity for the UAV altitude or target depth measurements for the control algorithm. Thus, this algorithm would be more suitable than the algorithm using simple camera geometry on flat earth assumption when target is moving on non-flat surface. The unit vector UAV visual servoing is newly derived and is in early stage of its development. So far there is only Simulink simulation result and it shows that it would be worthwhile to pursue further research on this control algorithm. Since there is huge gap in Simulink simulation and actual hardware, it is recommended to test the controller on a more realistic simulator such as Gazebo. In Gazebo, not only the control algorithm can be tested, but also the whole system including the R-RANSAC tracker can be simulated. Also, it is recommended to test the robustness of the controller with different tuning parameters and various target speed, not just constant speed. Then, the tested system may be implemented and integrated in hardware.

In summary, here are some suggestions and recommendations that can be pursued in the future. The listed items may be viewed as a priority list placing the top priority on top of the list or as sequential tasks placing the thing that needs to be done before another.
\begin{itemize}
	\item Implement the unit vector UAV visual servoing in Gazebo simulator. Test the control algorithm as well as the whole system with tracking algorithm. Tune the control parameter for more realistic multirotor and test with varying speed target. Come up with safety logic to ensure that the UAV is under control.
	\item Integrate the unit vector UAV visual servoing algorithm into the autonomous target following system in hardware. Test the system on non-flat ground. 
	\item Design and build a new compact gimbal for small multirotor and test the adaptive depth gimbal control algorithm on a flying platform. Compare the result with other existing algorithms. (Optional)
	\item Implement the multiple target keeping in FOV algorithm from \cite{Gans2011} and integrate into the autonomous target following system. Note that the algorithm from \cite{Gans2011} is realistic for a multirotor equipped with at least two-axis gimbal. (Optional)
\end{itemize}
